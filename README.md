# watir

Watir Powered By Selenium!

[![Gem Version](https://badge.fury.io/rb/watir.svg)](http://badge.fury.io/rb/watir)
[![Travis Status](https://travis-ci.org/watir/watir.svg?branch=master)](https://travis-ci.org/watir/watir)
[![AppVeyor status](https://ci.appveyor.com/api/projects/status/9vbb7pp5p4uyoott/branch/master?svg=true)](https://ci.appveyor.com/project/p0deje/watir)
[![Code Climate](https://codeclimate.com/github/watir/watir.svg)](https://codeclimate.com/github/watir/watir)
[![Coverage Status](https://coveralls.io/repos/github/watir/watir/badge.svg?branch=master)](https://coveralls.io/github/watir/watir?branch=master)

## Using Watir

This README is for people interested in writing code for Watir or gems in the Watir ecosystem
that leverage private-api Watir code.

For our users, everything you'll need is on the [Watir website](http://watir.com): 
examples, news, guides, additional resources, support information and more.

## Procedure for Patches/Pull Requests

* Fork the project.
* Clone onto your local machine.
* Create a new feature branch (bonus points for good names).
* Make your feature addition or bug fix.
* Add tests for it. This is important so we don't unintentionally break it in a future version.
* Commit, do not change Rakefile, gemspec, or CHANGES files, we'll take care of that on release.
* Make sure it is passing doctests.
* Make sure it is passing rubocop.
* Push to your forked repository.
* Send a pull request.

## Developing Extensions

When developing a gem intended to be used with Watir, you can run your code with WatirSpec 
to make sure that requiring your code does not break something else in Watir.

First, add WatirSpec Rake tasks to your gem:

```ruby
# Rakefile
require 'watirspec/rake_tasks'
WatirSpec::RakeTasks.new
```

Second, initialize WatirSpec for your gem:

```bash
$ bundle exec rake watirspec:init
```

This command will walk you through how to customize your code.

## Automatic Element Generation

The majority of element methods Watir provides is autogenerated from specifications.
This is done by extracting the IDL parts from the spec and processing them with the 
[WebIDL gem](https://github.com/jarib/webidl).

Generated elements are currently based on the following specifications:

* [HTML](https://www.w3.org/TR/2017/REC-html52-20171214/) (`lib/watir/elements/html_elements.rb`)
* [SVG](https://www.w3.org/TR/2018/CR-SVG2-20180807/) (`lib/watir/elements/svg_elements.rb`)

To run:
```bash
$ bundle exec rake html:update
$ bundle exec rake svg:update
```

## Specs

#### Travis CI

Watir specs are run on [Travis CI](https://travis-ci.org/watir/watir).

Watir code is tested with 2.3, 2.4 and 2.5 versions in multiple browsers and with multiple configurations.

#### Doctests

Watir uses [yard-doctest](https://github.com/p0deje/yard-doctest) to directly test
our documentation examples.

```bash
mkdir ~/.yard
bundle exec yard config -a autoload_plugins yard-doctest
rake yard:doctest
```

#### Coveralls

Watir code is run through [Coveralls](https://coveralls.io/github/watir/watir) to encourage PRs
to ensure all paths in their code have tests associated with them.

#### Rubocop

Watir is using [Rubocop](https://github.com/rubocop-hq/rubocop) to ensure a consistent style across the
code base. It is run with our minimum supported Ruby version (2.3) 
We have some [established exceptions](https://github.com/watir/watir/blob/master/.rubocop.yml) 
that might need to be tweaked for new code submissions. This can be addressed in the PR as necessary.

#### Statistics

Element specs are run with 
[Selenium Statistics gem](https://github.com/titusfortner/selenium_statistics)
to verify that changes to the code do not dramatically decrease the performance based
on wire calls.

## Copyright

Copyright (c) 2009-2015 Jari Bakken
Copyright (c) 2015-2018 Alex Rodionov, Titus Fortner
Copyright (c) 2018 Justin Ko
See LICENSE for details
